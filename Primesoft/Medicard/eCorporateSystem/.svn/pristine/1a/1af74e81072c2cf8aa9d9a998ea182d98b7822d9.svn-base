@model Member
@using HtmlHelpers.BeginCollectionItem
@{
    var genderList = new SelectList(ViewBag.Genders, Model.Gender);
    var civilStatusList = new SelectList(ViewBag.CivilStatuses, Model.CivilStatus);
    var appliedPlanList = new SelectList(ViewBag.PrincipalPlans, "Id", "LongDescription", Model.AppliedPlan);
    var optionalPlanList = new SelectList(ViewBag.PrincipalPlans, "Id", "LongDescription");
    var dependentAppliedPlanList = new SelectList(ViewBag.DependentPlans, "Id", "LongDescription", Model.DependentAppliedPlan);
    var dependentOptionalPlanList = new SelectList(ViewBag.DependentPlans, "Id", "LongDescription");
}
<tr>
    @using (Html.BeginCollectionItem("Members"))
    {
        <td class="vtop">
            @Html.HiddenFor(model => model.Id)
            @Html.HiddenFor(model => model.Guid)
            @Html.HiddenFor(model => model.CrById)
            @Html.HiddenFor(model => model.EndorsementBatchId)
            @Html.HiddenFor(model => model.Deleted, new { @class = "deleted" })
            @Html.HiddenFor(model => model.Timestamp)
            @Html.HiddenFor(model => model.AccountCode)
            @Html.EditorFor(model => model.EmailAddress)
            @Html.ValidationMessageFor(model => model.EmailAddress)
        </td>
        <td class="vtop">
            @Html.EditorFor(model => model.EmployeeNumber)
            @Html.ValidationMessageFor(model => model.EmployeeNumber)
        </td>
        <td class="vtop">
            @Html.EditorFor(model => model.Area)
            @Html.ValidationMessageFor(model => model.Area)
        </td>
        <td class="vtop">
            @Html.EditorFor(model => model.CostCenter)
            @Html.ValidationMessageFor(model => model.CostCenter)
        </td>
        <td class="vtop">
            @Html.EditorFor(model => model.LastName)
            @Html.ValidationMessageFor(model => model.LastName)
        </td>
        <td class="vtop">
            @Html.EditorFor(model => model.FirstName)
            @Html.ValidationMessageFor(model => model.FirstName)
        </td>
        <td class="vtop">
            @Html.EditorFor(model => model.MiddleName)
            @Html.ValidationMessageFor(model => model.MiddleName)
        </td>
        <td class="vtop">
            @Html.EditorFor(model => model.Suffix)
            @Html.ValidationMessageFor(model => model.Suffix)
        </td>
        <td class="vtop">
            @Html.DropDownList("Gender", (IEnumerable<SelectListItem>)genderList, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Gender)
        </td>
        <td class="vtop">
            @Html.TextBoxFor(model => model.DateOfBirth)
            @Html.ValidationMessageFor(model => model.DateOfBirth)
        </td>
        <td class="vtop">
            @Html.DropDownList("CivilStatus", (IEnumerable<SelectListItem>)civilStatusList, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.CivilStatus)
        </td>
        <td class="vtop">
            @Html.TextBoxFor(model => model.EffectivityDate)
            @Html.ValidationMessageFor(model => model.EffectivityDate)
        </td>
        <td class="vtop">
            @Html.TextBoxFor(model => model.ValidityDate)
            @Html.ValidationMessageFor(model => model.ValidityDate)
        </td>
        <td class="vtop">
            @Html.TextBoxFor(model => model.DateHired)
            @Html.ValidationMessageFor(model => model.DateHired)
        </td>
        <td class="vtop">
            @Html.DropDownList("AppliedPlan", (IEnumerable<SelectListItem>)appliedPlanList, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.AppliedPlan)
        </td>
        <td class="vtop">
            @Html.HiddenFor(model => model.AllowedPlans)
            @Html.DropDownList("OptionalPlanList", (IEnumerable<SelectListItem>)optionalPlanList, new { @class = ".optionalplan selectpicker span2 form-control", @multiple = "", @data_selected_text_format = "count>0", @data_value = "[" + Model.AllowedPlans + "]" })
        </td>
        <td class="vtop">
            @Html.EditorFor(model => model.Dependent)
            @Html.ValidationMessageFor(model => model.Dependent)
        </td>
        <td class="vtop">
            @Html.DropDownList("DependentAppliedPlan", (IEnumerable<SelectListItem>)dependentAppliedPlanList, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.DependentAppliedPlan)
        </td>
        <td class="vtop">
            @Html.HiddenFor(model => model.AllowedDependentPlans)
            @Html.DropDownList("DependentOptionalPlanList", (IEnumerable<SelectListItem>)dependentOptionalPlanList, new { @class = ".optionalplan selectpicker span2 form-control", @multiple = "", @data_selected_text_format = "count>0", @data_value = "[" + Model.AllowedDependentPlans + "]" })
        </td>
        <td class="vtop">
            <a href="javascript:void(0);" onclick="deleteMember(this);" class="btn btn-danger">Delete</a>
        </td>
    }

</tr>
